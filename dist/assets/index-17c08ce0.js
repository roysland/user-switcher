(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function J(){}function ae(t){return t()}function ee(){return Object.create(null)}function U(t){t.forEach(ae)}function fe(t){return typeof t=="function"}function G(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function _e(t){return Object.keys(t).length===0}function a(t,e){t.appendChild(e)}function S(t,e,r){t.insertBefore(e,r||null)}function x(t){t.parentNode&&t.parentNode.removeChild(t)}function ye(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function g(t){return document.createElement(t)}function N(t){return document.createTextNode(t)}function w(){return N(" ")}function be(){return N("")}function A(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function u(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function ve(t){return Array.from(t.childNodes)}function te(t,e){e=""+e,t.data!==e&&(t.data=e)}function I(t,e){t.value=e??""}function we(t,e,{bubbles:r=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,r,n,e),i}let F;function B(t){F=t}function de(){if(!F)throw new Error("Function called outside component initialization");return F}function $e(t){de().$$.on_mount.push(t)}function ke(){const t=de();return(e,r,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=we(e,r,{cancelable:n});return i.slice().forEach(l=>{l.call(t,o)}),!o.defaultPrevented}return!0}}const L=[],ne=[];let P=[];const re=[],xe=Promise.resolve();let R=!1;function Se(){R||(R=!0,xe.then(me))}function W(t){P.push(t)}const K=new Set;let j=0;function me(){if(j!==0)return;const t=F;do{try{for(;j<L.length;){const e=L[j];j++,B(e),Ee(e.$$)}}catch(e){throw L.length=0,j=0,e}for(B(null),L.length=0,j=0;ne.length;)ne.pop()();for(let e=0;e<P.length;e+=1){const r=P[e];K.has(r)||(K.add(r),r())}P.length=0}while(L.length);for(;re.length;)re.pop()();R=!1,K.clear(),B(t)}function Ee(t){if(t.fragment!==null){t.update(),U(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}function Oe(t){const e=[],r=[];P.forEach(n=>t.indexOf(n)===-1?e.push(n):r.push(n)),r.forEach(n=>n()),P=e}const z=new Set;let C;function pe(){C={r:0,c:[],p:C}}function ge(){C.r||U(C.c),C=C.p}function E(t,e){t&&t.i&&(z.delete(t),t.i(e))}function q(t,e,r,n){if(t&&t.o){if(z.has(t))return;z.add(t),C.c.push(()=>{z.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function he(t){t&&t.c()}function Q(t,e,r,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,r),n||W(()=>{const l=t.$$.on_mount.map(ae).filter(fe);t.$$.on_destroy?t.$$.on_destroy.push(...l):U(l),t.$$.on_mount=[]}),o.forEach(W)}function V(t,e){const r=t.$$;r.fragment!==null&&(Oe(r.after_update),U(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Ae(t,e){t.$$.dirty[0]===-1&&(L.push(t),Se(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(t,e,r,n,i,o,l,p=[-1]){const _=F;B(t);const c=t.$$={fragment:null,ctx:[],props:o,update:J,not_equal:i,bound:ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(_?_.$$.context:[])),callbacks:ee(),dirty:p,skip_bound:!1,root:e.target||_.$$.root};l&&l(c.root);let v=!1;if(c.ctx=r?r(t,e.props||{},(f,s,...d)=>{const m=d.length?d[0]:s;return c.ctx&&i(c.ctx[f],c.ctx[f]=m)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](m),v&&Ae(t,f)),s}):[],c.update(),v=!0,U(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=ve(e.target);c.fragment&&c.fragment.l(f),f.forEach(x)}else c.fragment&&c.fragment.c();e.intro&&E(t.$$.fragment),Q(t,e.target,e.anchor,e.customElement),me()}B(_)}class Y{$destroy(){V(this,1),this.$destroy=J}$on(e,r){if(!fe(r))return J;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!_e(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ce(t){let e,r,n,i,o,l,p,_,c,v,f,s,d,m,y,h,$,k,D,M,T,H,Z;return{c(){e=g("div"),r=g("div"),n=g("label"),n.textContent="Email",i=w(),o=g("div"),l=g("input"),p=w(),_=g("div"),c=g("label"),c.textContent="Password",v=w(),f=g("div"),s=g("input"),d=w(),m=g("div"),y=g("label"),y.textContent="Role",h=w(),$=g("div"),k=g("input"),D=w(),M=g("div"),T=g("button"),T.textContent="Add User",u(n,"for","email"),u(n,"class","block text-sm font-medium leading-6 text-gray-900"),u(l,"type","email"),u(l,"name","email"),u(l,"id","email"),u(l,"class","block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),u(l,"placeholder","you@example.com"),u(o,"class","mt-2"),u(c,"for","password"),u(c,"class","block text-sm font-medium leading-6 text-gray-900"),u(s,"type","password"),u(s,"name","password"),u(s,"id","password"),u(s,"class","block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),u(s,"placeholder","you@example.com"),u(f,"class","mt-2"),u(y,"for","email"),u(y,"class","block text-sm font-medium leading-6 text-gray-900"),u(k,"type","text"),u(k,"name","text"),u(k,"id","text"),u(k,"class","block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),u(k,"placeholder","Administrator"),u($,"class","mt-2"),u(e,"class","p-4"),u(T,"class","pointer-events-auto rounded-md bg-red-600 px-3 py-2 text-[0.8125rem] font-semibold leading-5 text-white hover:bg-indigo-500"),u(M,"class","flex items-center justify-end p-4")},m(b,O){S(b,e,O),a(e,r),a(r,n),a(r,i),a(r,o),a(o,l),I(l,t[0].email),a(e,p),a(e,_),a(_,c),a(_,v),a(_,f),a(f,s),I(s,t[0].password),a(e,d),a(e,m),a(m,y),a(m,h),a(m,$),a($,k),I(k,t[0].role),S(b,D,O),S(b,M,O),a(M,T),H||(Z=[A(l,"input",t[2]),A(s,"input",t[3]),A(k,"input",t[4]),A(T,"click",t[1])],H=!0)},p(b,[O]){O&1&&l.value!==b[0].email&&I(l,b[0].email),O&1&&s.value!==b[0].password&&I(s,b[0].password),O&1&&k.value!==b[0].role&&I(k,b[0].role)},i:J,o:J,d(b){b&&x(e),b&&x(D),b&&x(M),H=!1,U(Z)}}}function Ne(t,e,r){let n={email:"",password:"",role:""};const i=ke(),o=()=>{const c=JSON.parse(window.localStorage.getItem("users"));c.push(n),window.localStorage.setItem("users",JSON.stringify(c)),i("userAdded",n)};function l(){n.email=this.value,r(0,n)}function p(){n.password=this.value,r(0,n)}function _(){n.role=this.value,r(0,n)}return[n,o,l,p,_]}class Ue extends Y{constructor(e){super(),X(this,e,Ne,Ce,G,{})}}function ie(t,e,r){const n=t.slice();return n[11]=e[r],n}function le(t){let e,r=t[2],n=[];for(let i=0;i<r.length;i+=1)n[i]=se(ie(t,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=be()},m(i,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,o);S(i,e,o)},p(i,o){if(o&22){r=i[2];let l;for(l=0;l<r.length;l+=1){const p=ie(i,r,l);n[l]?n[l].p(p,o):(n[l]=se(p),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(i){ye(n,i),i&&x(e)}}}function oe(t){let e,r,n;function i(){return t[6](t[11])}return{c(){e=g("button"),e.textContent="Switch",u(e,"type","button"),u(e,"class","pointer-events-auto ml-4 flex-none rounded-md px-2 py-[0.3125rem] font-medium text-slate-700 shadow-sm ring-1 ring-slate-700/10 hover:bg-slate-50")},m(o,l){S(o,e,l),r||(n=A(e,"click",i),r=!0)},p(o,l){t=o},d(o){o&&x(e),r=!1,n()}}}function se(t){let e,r,n,i=t[11].email+"",o,l,p,_,c=t[11].role+"",v,f,s,d=t[11].email!==t[1]&&oe(t);return{c(){e=g("div"),r=g("div"),n=g("div"),o=N(i),l=w(),p=g("div"),_=N("@"),v=N(c),f=w(),d&&d.c(),s=w(),u(n,"class","font-medium"),u(p,"class","mt-1 text-slate-700"),u(r,"class","ml-4 flex-auto"),u(e,"class","flex items-center p-4")},m(m,y){S(m,e,y),a(e,r),a(r,n),a(n,o),a(r,l),a(r,p),a(p,_),a(p,v),a(e,f),d&&d.m(e,null),a(e,s)},p(m,y){y&4&&i!==(i=m[11].email+"")&&te(o,i),y&4&&c!==(c=m[11].role+"")&&te(v,c),m[11].email!==m[1]?d?d.p(m,y):(d=oe(m),d.c(),d.m(e,s)):d&&(d.d(1),d=null)},d(m){m&&x(e),d&&d.d()}}}function ce(t){let e,r;return e=new Ue({}),e.$on("userAdded",t[5]),{c(){he(e.$$.fragment)},m(n,i){Q(e,n,i),r=!0},p:J,i(n){r||(E(e.$$.fragment,n),r=!0)},o(n){q(e.$$.fragment,n),r=!1},d(n){V(e,n)}}}function Ie(t){let e;return{c(){e=N("Add User")},m(r,n){S(r,e,n)},d(r){r&&x(e)}}}function je(t){let e;return{c(){e=N("Cancel")},m(r,n){S(r,e,n)},d(r){r&&x(e)}}}function Le(t){let e,r,n,i,o,l,p,_,c,v,f=!t[0]&&le(t),s=t[0]&&ce(t);function d(h,$){return h[0]?je:Ie}let m=d(t),y=m(t);return{c(){e=g("div"),f&&f.c(),r=w(),s&&s.c(),n=w(),i=g("div"),o=g("button"),o.textContent="Mock Auth",l=w(),p=g("button"),y.c(),u(o,"class","pointer-events-auto rounded-md bg-indigo-600 px-3 py-2 text-[0.8125rem] font-semibold leading-5 text-white hover:bg-indigo-500"),u(p,"class","pointer-events-auto ml-8 rounded-md bg-indigo-600 px-3 py-2 text-[0.8125rem] font-semibold leading-5 text-white hover:bg-indigo-500"),u(i,"class","p-4 flex items-center justify-end"),u(e,"class","w-[24.5rem] divide-y divide-slate-400/20 rounded-lg bg-white text-[0.8125rem] leading-5 text-slate-900 ring-1 ring-slate-700/10")},m(h,$){S(h,e,$),f&&f.m(e,null),a(e,r),s&&s.m(e,null),a(e,n),a(e,i),a(i,o),a(i,l),a(i,p),y.m(p,null),_=!0,c||(v=[A(o,"click",t[7]),A(p,"click",t[8])],c=!0)},p(h,[$]){h[0]?f&&(f.d(1),f=null):f?f.p(h,$):(f=le(h),f.c(),f.m(e,r)),h[0]?s?(s.p(h,$),$&1&&E(s,1)):(s=ce(h),s.c(),E(s,1),s.m(e,n)):s&&(pe(),q(s,1,1,()=>{s=null}),ge()),m!==(m=d(h))&&(y.d(1),y=m(h),y&&(y.c(),y.m(p,null)))},i(h){_||(E(s),_=!0)},o(h){q(s),_=!1},d(h){h&&x(e),f&&f.d(),s&&s.d(),y.d(),c=!1,U(v)}}}function Pe(t,e,r){let n=!1,i=localStorage.getItem("currentUser");const o=()=>JSON.parse(window.localStorage.getItem("users")),l=async(d,m)=>{const h=await(await fetch("https://nav.localhost:4001/auth/credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({UserName:d,Password:m})})).json();return console.log(h),h},p=async d=>{localStorage.setItem("currentUser",d.email),r(1,i=d.email);const m=await l(d.email,d.password);chrome.cookies.set({details:{name:"ss-id",value:m.SessionId}}),chrome.tabs.query({active:!0,currentWindow:!0},function(y){var h="window.location.reload();";chrome.tabs.executeScript(y[0].id,{code:h})}),_()},_=()=>{r(2,c=o()),r(0,n=!1)};let c=o();return[n,i,c,l,p,_,d=>p(d),()=>l("sjur.varhaug@vieri.no","8H292xpI"),()=>r(0,n=!n)]}class Je extends Y{constructor(e){super(),X(this,e,Pe,Le,G,{})}}function ue(t){let e,r;return e=new Je({}),{c(){he(e.$$.fragment)},m(n,i){Q(e,n,i),r=!0},i(n){r||(E(e.$$.fragment,n),r=!0)},o(n){q(e.$$.fragment,n),r=!1},d(n){V(e,n)}}}function qe(t){let e,r,n=t[0]&&ue();return{c(){e=g("main"),n&&n.c()},m(i,o){S(i,e,o),n&&n.m(e,null),r=!0},p(i,[o]){i[0]?n?o&1&&E(n,1):(n=ue(),n.c(),E(n,1),n.m(e,null)):n&&(pe(),q(n,1,1,()=>{n=null}),ge())},i(i){r||(E(n),r=!0)},o(i){q(n),r=!1},d(i){i&&x(e),n&&n.d()}}}function Me(t,e,r){let n=!1;return $e(()=>{window.localStorage.getItem("users")||window.localStorage.setItem("users",JSON.stringify([])),r(0,n=!0)}),[n]}class Te extends Y{constructor(e){super(),X(this,e,Me,qe,G,{})}}new Te({target:document.getElementById("app")});
