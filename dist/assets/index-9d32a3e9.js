(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();function U(){}function fe(t){return t()}function ee(){return Object.create(null)}function q(t){t.forEach(fe)}function de(t){return typeof t=="function"}function H(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function be(t){return Object.keys(t).length===0}function d(t,e){t.appendChild(e)}function S(t,e,r){t.insertBefore(e,r||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function ye(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function h(t){return document.createElement(t)}function C(t){return document.createTextNode(t)}function $(){return C(" ")}function ve(){return C("")}function A(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function c(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function we(t){return Array.from(t.childNodes)}function te(t,e){e=""+e,t.data!==e&&(t.data=e)}function I(t,e){t.value=e??""}function $e(t,e,{bubbles:r=!1,cancelable:n=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,r,n,e),l}let F;function B(t){F=t}function me(){if(!F)throw new Error("Function called outside component initialization");return F}function ke(t){me().$$.on_mount.push(t)}function xe(){const t=me();return(e,r,{cancelable:n=!1}={})=>{const l=t.$$.callbacks[e];if(l){const o=$e(e,r,{cancelable:n});return l.slice().forEach(i=>{i.call(t,o)}),!o.defaultPrevented}return!0}}const P=[],ne=[];let j=[];const re=[],Se=Promise.resolve();let W=!1;function Ee(){W||(W=!0,Se.then(pe))}function G(t){j.push(t)}const R=new Set;let L=0;function pe(){if(L!==0)return;const t=F;do{try{for(;L<P.length;){const e=P[L];L++,B(e),Oe(e.$$)}}catch(e){throw P.length=0,L=0,e}for(B(null),P.length=0,L=0;ne.length;)ne.pop()();for(let e=0;e<j.length;e+=1){const r=j[e];R.has(r)||(R.add(r),r())}j.length=0}while(P.length);for(;re.length;)re.pop()();W=!1,R.clear(),B(t)}function Oe(t){if(t.fragment!==null){t.update(),q(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(G)}}function Ae(t){const e=[],r=[];j.forEach(n=>t.indexOf(n)===-1?e.push(n):r.push(n)),r.forEach(n=>n()),j=e}const z=new Set;let N;function ge(){N={r:0,c:[],p:N}}function he(){N.r||q(N.c),N=N.p}function E(t,e){t&&t.i&&(z.delete(t),t.i(e))}function J(t,e,r,n){if(t&&t.o){if(z.has(t))return;z.add(t),N.c.push(()=>{z.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function _e(t){t&&t.c()}function Q(t,e,r,n){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,r),n||G(()=>{const i=t.$$.on_mount.map(fe).filter(de);t.$$.on_destroy?t.$$.on_destroy.push(...i):q(i),t.$$.on_mount=[]}),o.forEach(G)}function V(t,e){const r=t.$$;r.fragment!==null&&(Ae(r.after_update),q(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Ne(t,e){t.$$.dirty[0]===-1&&(P.push(t),Ee(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(t,e,r,n,l,o,i,_=[-1]){const y=F;B(t);const s=t.$$={fragment:null,ctx:[],props:o,update:U,not_equal:l,bound:ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(y?y.$$.context:[])),callbacks:ee(),dirty:_,skip_bound:!1,root:e.target||y.$$.root};i&&i(s.root);let p=!1;if(s.ctx=r?r(t,e.props||{},(u,a,...f)=>{const m=f.length?f[0]:a;return s.ctx&&l(s.ctx[u],s.ctx[u]=m)&&(!s.skip_bound&&s.bound[u]&&s.bound[u](m),p&&Ne(t,u)),a}):[],s.update(),p=!0,q(s.before_update),s.fragment=n?n(s.ctx):!1,e.target){if(e.hydrate){const u=we(e.target);s.fragment&&s.fragment.l(u),u.forEach(k)}else s.fragment&&s.fragment.c();e.intro&&E(t.$$.fragment),Q(t,e.target,e.anchor,e.customElement),pe()}B(y)}class Y{$destroy(){V(this,1),this.$destroy=U}$on(e,r){if(!de(r))return U;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const l=n.indexOf(r);l!==-1&&n.splice(l,1)}}$set(e){this.$$set&&!be(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ce(t){let e,r,n,l,o,i,_,y,s,p,u,a,f,m,b,g,w,x,D,M,T,K,Z;return{c(){e=h("div"),r=h("div"),n=h("label"),n.textContent="Email",l=$(),o=h("div"),i=h("input"),_=$(),y=h("div"),s=h("label"),s.textContent="Password",p=$(),u=h("div"),a=h("input"),f=$(),m=h("div"),b=h("label"),b.textContent="Role",g=$(),w=h("div"),x=h("input"),D=$(),M=h("div"),T=h("button"),T.textContent="Add User",c(n,"for","email"),c(n,"class","block text-sm font-medium leading-6 text-gray-900"),c(i,"type","email"),c(i,"name","email"),c(i,"id","email"),c(i,"class","block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),c(i,"placeholder","you@example.com"),c(o,"class","mt-2"),c(s,"for","password"),c(s,"class","block text-sm font-medium leading-6 text-gray-900"),c(a,"type","password"),c(a,"name","password"),c(a,"id","password"),c(a,"class","block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),c(a,"placeholder","you@example.com"),c(u,"class","mt-2"),c(b,"for","email"),c(b,"class","block text-sm font-medium leading-6 text-gray-900"),c(x,"type","text"),c(x,"name","text"),c(x,"id","text"),c(x,"class","block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),c(x,"placeholder","Administrator"),c(w,"class","mt-2"),c(e,"class","p-4"),c(T,"class","pointer-events-auto rounded-md bg-red-600 px-3 py-2 text-[0.8125rem] font-semibold leading-5 text-white hover:bg-indigo-500"),c(M,"class","flex items-center justify-end p-4")},m(v,O){S(v,e,O),d(e,r),d(r,n),d(r,l),d(r,o),d(o,i),I(i,t[0].email),d(e,_),d(e,y),d(y,s),d(y,p),d(y,u),d(u,a),I(a,t[0].password),d(e,f),d(e,m),d(m,b),d(m,g),d(m,w),d(w,x),I(x,t[0].role),S(v,D,O),S(v,M,O),d(M,T),K||(Z=[A(i,"input",t[2]),A(a,"input",t[3]),A(x,"input",t[4]),A(T,"click",t[1])],K=!0)},p(v,[O]){O&1&&i.value!==v[0].email&&I(i,v[0].email),O&1&&a.value!==v[0].password&&I(a,v[0].password),O&1&&x.value!==v[0].role&&I(x,v[0].role)},i:U,o:U,d(v){v&&k(e),v&&k(D),v&&k(M),K=!1,q(Z)}}}function Ue(t,e,r){let n={email:"",password:"",role:""};const l=xe(),o=()=>{const s=JSON.parse(window.localStorage.getItem("users"));s.push(n),window.localStorage.setItem("users",JSON.stringify(s)),l("userAdded",n)};function i(){n.email=this.value,r(0,n)}function _(){n.password=this.value,r(0,n)}function y(){n.role=this.value,r(0,n)}return[n,o,i,_,y]}class Ie extends Y{constructor(e){super(),X(this,e,Ue,Ce,H,{})}}function le(t,e,r){const n=t.slice();return n[11]=e[r],n}function ie(t){let e,r=t[2],n=[];for(let l=0;l<r.length;l+=1)n[l]=se(le(t,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=ve()},m(l,o){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(l,o);S(l,e,o)},p(l,o){if(o&14){r=l[2];let i;for(i=0;i<r.length;i+=1){const _=le(l,r,i);n[i]?n[i].p(_,o):(n[i]=se(_),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(l){ye(n,l),l&&k(e)}}}function oe(t){let e,r,n;function l(){return t[6](t[11])}return{c(){e=h("button"),e.textContent="Switch",c(e,"type","button"),c(e,"class","pointer-events-auto ml-4 flex-none rounded-md px-2 py-[0.3125rem] font-medium text-slate-700 shadow-sm ring-1 ring-slate-700/10 hover:bg-slate-50")},m(o,i){S(o,e,i),r||(n=A(e,"click",l),r=!0)},p(o,i){t=o},d(o){o&&k(e),r=!1,n()}}}function se(t){let e,r,n,l=t[11].email+"",o,i,_,y,s=t[11].role+"",p,u,a,f=t[11].email!==t[1]&&oe(t);return{c(){e=h("div"),r=h("div"),n=h("div"),o=C(l),i=$(),_=h("div"),y=C("@"),p=C(s),u=$(),f&&f.c(),a=$(),c(n,"class","font-medium"),c(_,"class","mt-1 text-slate-700"),c(r,"class","ml-4 flex-auto"),c(e,"class","flex items-center p-4")},m(m,b){S(m,e,b),d(e,r),d(r,n),d(n,o),d(r,i),d(r,_),d(_,y),d(_,p),d(e,u),f&&f.m(e,null),d(e,a)},p(m,b){b&4&&l!==(l=m[11].email+"")&&te(o,l),b&4&&s!==(s=m[11].role+"")&&te(p,s),m[11].email!==m[1]?f?f.p(m,b):(f=oe(m),f.c(),f.m(e,a)):f&&(f.d(1),f=null)},d(m){m&&k(e),f&&f.d()}}}function ce(t){let e,r;return e=new Ie({}),e.$on("userAdded",t[5]),{c(){_e(e.$$.fragment)},m(n,l){Q(e,n,l),r=!0},p:U,i(n){r||(E(e.$$.fragment,n),r=!0)},o(n){J(e.$$.fragment,n),r=!1},d(n){V(e,n)}}}function ue(t){let e,r,n;return{c(){e=h("button"),e.textContent="Slett alle",c(e,"class","pointer-events-auto ml-8 rounded-md bg-red-600 px-3 py-2 text-[0.8125rem] font-semibold leading-5 text-white hover:bg-red-500")},m(l,o){S(l,e,o),r||(n=A(e,"click",t[4]),r=!0)},p:U,d(l){l&&k(e),r=!1,n()}}}function Le(t){let e;return{c(){e=C("Add User")},m(r,n){S(r,e,n)},d(r){r&&k(e)}}}function Pe(t){let e;return{c(){e=C("Cancel")},m(r,n){S(r,e,n)},d(r){r&&k(e)}}}function je(t){let e,r,n,l,o,i,_,y,s,p=!t[0]&&ie(t),u=t[0]&&ce(t),a=t[2].length>0&&ue(t);function f(g,w){return g[0]?Pe:Le}let m=f(t),b=m(t);return{c(){e=h("div"),p&&p.c(),r=$(),u&&u.c(),n=$(),l=h("div"),a&&a.c(),o=$(),i=h("button"),b.c(),c(i,"class","pointer-events-auto ml-8 rounded-md bg-indigo-600 px-3 py-2 text-[0.8125rem] font-semibold leading-5 text-white hover:bg-indigo-500"),c(l,"class","p-4 flex items-center justify-between"),c(e,"class","w-[24.5rem] divide-y divide-slate-400/20 rounded-lg bg-white text-[0.8125rem] leading-5 text-slate-900 ring-1 ring-slate-700/10")},m(g,w){S(g,e,w),p&&p.m(e,null),d(e,r),u&&u.m(e,null),d(e,n),d(e,l),a&&a.m(l,null),d(l,o),d(l,i),b.m(i,null),_=!0,y||(s=A(i,"click",t[7]),y=!0)},p(g,[w]){g[0]?p&&(p.d(1),p=null):p?p.p(g,w):(p=ie(g),p.c(),p.m(e,r)),g[0]?u?(u.p(g,w),w&1&&E(u,1)):(u=ce(g),u.c(),E(u,1),u.m(e,n)):u&&(ge(),J(u,1,1,()=>{u=null}),he()),g[2].length>0?a?a.p(g,w):(a=ue(g),a.c(),a.m(l,o)):a&&(a.d(1),a=null),m!==(m=f(g))&&(b.d(1),b=m(g),b&&(b.c(),b.m(i,null)))},i(g){_||(E(u),_=!0)},o(g){J(u),_=!1},d(g){g&&k(e),p&&p.d(),u&&u.d(),a&&a.d(),b.d(),y=!1,s()}}}function Je(t,e,r){let n=!1,l=localStorage.getItem("currentUser");const o=()=>JSON.parse(window.localStorage.getItem("users")),i=async(f,m)=>{const g=await(await fetch("https://nav.localhost:4001/auth/credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({UserName:f,Password:m})})).json();return console.log(g),g},_=async f=>{localStorage.setItem("currentUser",f.email),r(1,l=f.email);const m=await i(f.email,f.password);chrome.cookies.set({details:{name:"ss-id",value:m.SessionId}}),chrome.tabs.query({active:!0,currentWindow:!0},function(b){const g="window.location.reload();";chrome.tabs.executeScript(b[0].id,{code:g})}),s()},y=()=>{window.localStorage.setItem("users",JSON.stringify([])),s()},s=()=>{r(2,p=o()),r(0,n=!1)};let p=o();return[n,l,p,_,y,s,f=>_(f),()=>r(0,n=!n)]}class qe extends Y{constructor(e){super(),X(this,e,Je,je,H,{})}}function ae(t){let e,r;return e=new qe({}),{c(){_e(e.$$.fragment)},m(n,l){Q(e,n,l),r=!0},i(n){r||(E(e.$$.fragment,n),r=!0)},o(n){J(e.$$.fragment,n),r=!1},d(n){V(e,n)}}}function Me(t){let e,r,n=t[0]&&ae();return{c(){e=h("main"),n&&n.c()},m(l,o){S(l,e,o),n&&n.m(e,null),r=!0},p(l,[o]){l[0]?n?o&1&&E(n,1):(n=ae(),n.c(),E(n,1),n.m(e,null)):n&&(ge(),J(n,1,1,()=>{n=null}),he())},i(l){r||(E(n),r=!0)},o(l){J(n),r=!1},d(l){l&&k(e),n&&n.d()}}}function Te(t,e,r){let n=!1;return ke(()=>{window.localStorage.getItem("users")||window.localStorage.setItem("users",JSON.stringify([])),window.localStorage.removeItem("currentUser"),r(0,n=!0)}),[n]}class Be extends Y{constructor(e){super(),X(this,e,Te,Me,H,{})}}new Be({target:document.getElementById("app")});
